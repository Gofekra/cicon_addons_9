<?xml version="1.0" ?>
<odoo>
        <record model="ir.module.category" id="module_cmms_cicon">
            <field name="name">CMMS</field>
            <field name="description">Helps you handle Machine Management/Maintenance Breakdown,Preventive and General .</field>
            <field name="sequence">90</field>
        </record>
        <record id="group_cmms_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="module_cmms_cicon"/>
        </record>
        <record id="group_cmms_tech" model="res.groups">
            <field name="name">Technician</field>
            <field name="implied_ids" eval="[(4, ref('group_cmms_user'))]"/>
            <field name="category_id" ref="module_cmms_cicon"/>
        </record>

        <record id="group_cmms_supervisor" model="res.groups">
            <field name="name">Supervisor</field>
            <field name="implied_ids" eval="[(4, ref('group_cmms_tech'))]"/>
            <field name="category_id" ref="module_cmms_cicon"/>
        </record>

        <record id="group_cmms_manager" model="res.groups">
            <field name="name">Manager</field>
            <field name="implied_ids" eval="[(4, ref('group_cmms_supervisor'))]"/>
            <field name="category_id" ref="module_cmms_cicon"/>
        </record>


        <record id="cmms_mind_your_own_company_machine" model="ir.rule">
            <field name="name">CMMS See Machines for allowed Company </field>
            <field name="model_id" ref="model_cmms_machine"/>
            <field name="groups" eval="[(4, ref('group_cmms_user'))]"/>
            <field name="domain_force">[('company_id', 'in', user.company_ids._ids)]</field>
        </record>

        <record id="cmms_mind_your_own_company_location" model="ir.rule">
            <field name="name">CMMS See Locations for allowed Company </field>
            <field name="model_id" ref="model_cmms_machine_location"/>
            <field name="groups" eval="[(4, ref('group_cmms_user'))]"/>
            <field name="domain_force">['|',('company_id', 'in', user.company_ids._ids)('company_id', '=', False)]</field>
        </record>


</odoo>
